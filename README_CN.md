# 个人决策支持系统 (PL-DSS)

一个极简、确定性的命令行和图形界面工具，用于评估你的当前状态（正常、压力、过载），并提供预定义的行为约束以防止崩溃。

**[快速启动指南 →](QUICKSTART_CN.md)**

## 功能特性

- 🖥️ **双界面模式**：命令行（CLI）和图形界面（GUI）
- 🎯 **状态评估**：基于截止日期、工作负荷和能量水平评估当前状态
- 📋 **行为规则**：在压力或过载时获取预定义的约束建议
- 🔄 **恢复监控**：知道何时可以安全返回正常模式
- ⚙️ **可配置**：通过 YAML 配置文件自定义阈值和规则
- 🚀 **快速本地**：本地运行约 0.1 秒，无需外部 API

## 快速开始

### GUI 模式（推荐日常使用）

**在项目根目录运行：**
```bash
python run_gui.py
```

或使用模块方式：
```bash
python -m pl_dss.gui
```

### CLI 模式（用于自动化/脚本）
```bash
python -m pl_dss.main --deadlines 4 --domains 3 --energy 2 3 2
```

详细的 GUI 使用说明请查看 [GUI_GUIDE.md](GUI_GUIDE.md)

## 这个系统做什么

PL-DSS 通过以下方式帮助你识别何时需要放慢、停止或恢复：

- **评估当前状态**，基于三个手动输入：
  - 未来 14 天的固定截止日期数量
  - 当前活跃的高负荷生活领域数量（工作项目、家庭危机、健康问题等）
  - 最近 3 天的能量评分（1-5 分）

- **提供行为约束**，当你处于压力或过载状态时：
  - 预定义的规则防止承担过多
  - 明确的指导说明应该暂停或减少什么

- **监控恢复**，告诉你何时可以安全返回正常模式：
  - 检查截止日期是否已清除
  - 验证高负荷领域是否已减少
  - 确认能量水平是否已稳定

## 这个系统不做什么

PL-DSS 明确**不是**：

- ❌ 生产力工具或任务管理器
- ❌ 日历系统或截止日期跟踪器
- ❌ AI 或机器学习系统
- ❌ 数据库或云服务
- ❌ 通知系统
- ❌ 网页抓取工具
- ❌ 身份验证系统

它是一个简单、本地、基于规则的评估工具。你需要手动提供输入。

## 每周使用方法

**推荐模式：每周检查**

这个系统设计用于每周评估，而不是每天跟踪。每周运行一次以评估你的状态并相应调整行为。

### 每周工作流程

1. **每周日晚上**（或你喜欢的检查时间）：
   - **统计固定截止日期**：未来 14 天有多少不可移动的截止日期？
   - **统计高负荷领域**：现在有多少生活领域需要高认知负荷？（例如：重大工作项目、家庭危机、健康问题、搬家等）
   - **评估能量水平**：在 1-5 分的范围内，最近 3 天的能量如何？（1=精疲力竭，5=精力充沛）

2. **运行系统**：
   ```bash
   python run_gui.py
   ```
   或使用命令行：
   ```bash
   python -m pl_dss.main --deadlines 4 --domains 3 --energy 2 3 2
   ```

3. **查看输出**：
   - 查看当前状态（正常、压力或过载）
   - 阅读为什么处于该状态的解释
   - 如果处于压力或过载状态，注意任何行为约束
   - 检查恢复状态以了解何时可以放松

4. **相应调整本周计划**：
   - **如果过载**：严格遵守所有降级规则。对新承诺说不。
   - **如果压力**：谨慎对待新项目。创建时间缓冲。
   - **如果正常**：正常进行活动。你有能力。

5. **下周重复**：下周日再次检查以重新评估状态。

## 安装

1. **确保安装了 Python 3.8+**
   ```bash
   python --version  # 应该是 3.8 或更高版本
   ```

2. **安装依赖**：
   ```bash
   pip install pyyaml
   ```

3. **（可选）安装测试依赖**：
   ```bash
   pip install -r requirements-dev.txt
   ```

## 使用方法

### GUI 模式（图形界面）

启动图形界面：
```bash
python run_gui.py
```

GUI 提供：
- **输入字段**：用于截止日期、领域和能量评分
- **评估按钮**：评估你的状态
- **结果显示**：带有颜色编码的状态和详细解释
- **用户友好界面**：中文界面

### CLI 模式（命令行）

命令行使用：

**使用命令行参数运行：**
```bash
python -m pl_dss.main --deadlines 4 --domains 3 --energy 2 3 2
```

**交互式运行：**
```bash
python -m pl_dss.main
```

## 配置

编辑 `config.yaml` 以自定义：
- 状态评估的阈值
- 每个状态的降级规则
- 恢复条件

## 运行测试

```bash
pytest tests/
```

## 设计理念

- **极简**：核心逻辑约 250 行代码
- **确定性**：相同输入始终产生相同输出
- **本地**：无外部 API 调用或云依赖
- **透明**：所有规则可见且可配置
- **简单**：优先使用标准库，最少依赖

## GUI vs CLI

| 特性 | CLI | GUI |
|------|-----|-----|
| 启动速度 | 快 | 稍慢 |
| 易用性 | 需要记住参数 | 直观 |
| 自动化 | 容易脚本化 | 不适合 |
| 视觉反馈 | 纯文本 | 颜色编码 |
| 适用场景 | 脚本、自动化 | 日常使用 |

## 文件结构

```
.
├── pl_dss/              # 主要代码目录
│   ├── config.py        # 配置加载
│   ├── evaluator.py     # 状态评估器
│   ├── rules.py         # 规则引擎
│   ├── recovery.py      # 恢复监控器
│   ├── main.py          # CLI 入口
│   └── gui.py           # GUI 界面
├── tests/               # 测试目录
├── config.yaml          # 配置文件
├── run_gui.py           # GUI 启动脚本
├── README.md            # 英文文档
├── README_CN.md         # 中文文档（本文件）
└── GUI_GUIDE.md         # GUI 详细指南
```

## 许可证

本项目为个人使用工具，按原样提供。

## 贡献

这是一个个人决策支持工具。如果你想使用它，请随意 fork 并根据自己的需求进行自定义。
